<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-2.1.4.js"></script>
    <script type="text/javascript" src="webjars/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="webjars/bootstrap/4.1.1/css/bootstrap.min.css"/>
    <script type="text/javascript" th:src="@{main.js}" src="../main.js"></script>
    <title>Headlines</title>
</head>
<body>
<h3 class="text-center">Articles</h3>
<div class="container">
    <div class="input-group">
        <label for="country" class="col-form-label">Country:</label>
        <select type="text" class="form-control" id="country" name="country">
            <option value="pl">pl</option>
            <option th:each="co : ${countries}"
                th:value="${co}"
                th:text="${co}"
                th:selected="${headline.country == co }"/>
            </select>
        <label for="category" class="col-form-label">Category:</label>
        <select type="text" class="form-control" id="category" name="category">
            <option th:each="ca : ${categories}"
                    th:value="${ca}"
                    th:text="${ca}"
                    th:selected="${headline.category == ca}"/>
        </select>
        <span class="input-group-btn">
        <a href="" type="button" class="btn btn-default sBtn" id="searchBtn">search</a>
        </span></div>
    <div class="card">
        <div class="card-block">
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Nr</th>
                    <th>Author</th>
                    <th>Title</th>
                    <th>Source Name</th>
                    <th>Date</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="art,iter :${headline.articles}">
                    <td th:text="${iter.index+1}">nr</td>
                    <td th:text="${art?.author}">author</td>
                    <td th:text="${art?.title}">title</td>
                    <td th:text="${art?.sourceName}">sourceName</td>
                    <td th:text="${art?.date}">date</td>
                    <td><a th:href="@{findOne/(counter=${iter.index})}" class="btn btn-primary eBtn">Preview</a></td>
                </tr>

                </tbody>
            </table>
            <hr/>
        </div>
    </div>
    <div class="myForm">
        <form th:action="@{/view}" method="get">
            <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Preview article</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">

                            <div class="form-group">
                                <label for="author" class="col-form-label">Author:</label>
                                <input type="text" class="form-control" id="author" name="author" value="" readonly/>
                            </div>
                            <div class="form-group">
                                <label for="title" class="col-form-label">Title:</label>
                                <textarea type="text" class="form-control" id="title" name="title" value=""
                                          readonly></textarea>
                            </div>
                            <div class="form-group">
                                <label for="description" class="col-form-label">Description:</label>
                                <textarea type="text" class="form-control" id="description" name="description" value=""
                                          readonly></textarea>
                            </div>
                            <div class="form-group">
                                <label for="sourceName" class="col-form-label">Source Name:</label>
                                <input type="text" class="form-control" id="sourceName" name="sourceName" value=""
                                       readonly/>
                            </div>
                            <div class="form-group">
                                <label for="date" class="col-form-label">Date:</label>
                                <input type="text" class="form-control" id="date" name="date" value="" readonly/>
                            </div>
                            <div class="form-group">
                                <label for="articleUrl" class="col-form-label">ArticleUrl:</label>
                                <textarea type="text" class="form-control" id="articleUrl" name="articleUrl" value="" readonly></textarea>
                            </div>
                            <div class="form-group">
                               <label for="imageUrl" class="col-form-label">ImageUrl:</label>
                                <textarea type="text" class="form-control" id="imageUrl" name="imageUrl" value="" readonly> </textarea>
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
</html>